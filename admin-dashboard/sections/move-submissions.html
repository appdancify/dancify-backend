<!-- üíÉ Dancify Admin Dashboard - Move Submissions Section -->
<!-- Review and moderate user-submitted dance videos -->

<section id="move-submissions" class="content-section">
    <!-- Section Header -->
    <div class="section-header">
        <div class="header-content">
            <h1>üìπ Move Submissions</h1>
            <p>Review and moderate user-submitted dance videos</p>
        </div>
        <div class="header-actions">
            <button class="btn btn-primary" onclick="submissionManager?.bulkReview()">
                ‚ö° Bulk Review
            </button>
            <button class="btn btn-secondary" onclick="submissionManager?.exportSubmissions()">
                üìä Export Data
            </button>
        </div>
    </div>

    <!-- Submission Statistics -->
    <div class="submission-stats">
        <div class="stat-card">
            <div class="stat-icon pending">‚è≥</div>
            <div class="stat-content">
                <h3>Pending Review</h3>
                <div class="stat-value" id="pendingCount">23</div>
                <div class="stat-change">+5 today</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon approved">‚úÖ</div>
            <div class="stat-content">
                <h3>Approved</h3>
                <div class="stat-value" id="approvedCount">156</div>
                <div class="stat-change">+12 this week</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon rejected">‚ùå</div>
            <div class="stat-content">
                <h3>Rejected</h3>
                <div class="stat-value" id="rejectedCount">34</div>
                <div class="stat-change">8 this week</div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon revision">üîÑ</div>
            <div class="stat-content">
                <h3>Needs Revision</h3>
                <div class="stat-value" id="revisionCount">12</div>
                <div class="stat-change">3 pending</div>
            </div>
        </div>
    </div>

    <!-- Filter Tabs -->
    <div class="submission-filters">
        <div class="filter-tabs">
            <button class="filter-tab active" data-status="pending" onclick="submissionManager?.filterByStatus('pending')">
                ‚è≥ Pending <span class="count-badge">23</span>
            </button>
            <button class="filter-tab" data-status="approved" onclick="submissionManager?.filterByStatus('approved')">
                ‚úÖ Approved <span class="count-badge">156</span>
            </button>
            <button class="filter-tab" data-status="rejected" onclick="submissionManager?.filterByStatus('rejected')">
                ‚ùå Rejected <span class="count-badge">34</span>
            </button>
            <button class="filter-tab" data-status="needs_revision" onclick="submissionManager?.filterByStatus('needs_revision')">
                üîÑ Revision <span class="count-badge">12</span>
            </button>
            <button class="filter-tab" data-status="all" onclick="submissionManager?.filterByStatus('all')">
                üìã All <span class="count-badge">225</span>
            </button>
        </div>
        
        <div class="search-controls">
            <input type="text" id="submissionSearch" placeholder="üîç Search submissions..." class="form-control">
            <select id="danceStyleFilter" class="form-control form-select">
                <option value="">All Styles</option>
                <option value="Ballet">ü©∞ Ballet</option>
                <option value="Hip-Hop">üé§ Hip-Hop</option>
                <option value="Salsa">üíÉ Salsa</option>
                <option value="Contemporary">üé≠ Contemporary</option>
                <option value="Jazz">üé∫ Jazz</option>
            </select>
        </div>
    </div>

    <!-- Submissions Grid -->
    <div class="submissions-container">
        <div class="submissions-grid" id="submissionsGrid">
            <!-- Pending Submission -->
            <div class="submission-card pending" data-submission-id="sub001">
                <div class="submission-header">
                    <div class="submission-status pending">‚è≥ Pending Review</div>
                    <div class="submission-time">2 hours ago</div>
                </div>
                
                <div class="video-preview" onclick="submissionManager?.playVideo('sub001')">
                    <img src="https://via.placeholder.com/300x200/8A2BE2/FFFFFF?text=Pirouette+Attempt" alt="Video thumbnail" class="video-thumbnail">
                    <div class="play-overlay">
                        <div class="play-button">‚ñ∂Ô∏è</div>
                    </div>
                    <div class="video-duration">0:45</div>
                </div>
                
                <div class="submission-content">
                    <div class="user-info">
                        <img src="https://via.placeholder.com/40x40/FF69B4/FFFFFF?text=ER" alt="Emma Rodriguez" class="user-avatar">
                        <div class="user-details">
                            <strong>Emma Rodriguez</strong>
                            <span class="user-level">Level 8 ‚Ä¢ Premium</span>
                        </div>
                    </div>
                    
                    <div class="move-info">
                        <h4>Ballet Pirouette</h4>
                        <div class="move-meta">
                            <span class="dance-style">ü©∞ Ballet</span>
                            <span class="difficulty">üü° Intermediate</span>
                        </div>
                    </div>
                    
                    <div class="submission-notes">
                        <p>"First attempt at a full pirouette. Would love feedback on my technique and balance."</p>
                    </div>
                    
                    <div class="quick-actions">
                        <button class="btn btn-sm btn-success" onclick="submissionManager?.quickApprove('sub001')">
                            ‚úÖ Approve
                        </button>
                        <button class="btn btn-sm btn-warning" onclick="submissionManager?.requestRevision('sub001')">
                            üîÑ Revision
                        </button>
                        <button class="btn btn-sm btn-danger" onclick="submissionManager?.quickReject('sub001')">
                            ‚ùå Reject
                        </button>
                        <button class="btn btn-sm btn-primary" onclick="submissionManager?.showReviewModal('sub001')">
                            üìù Review
                        </button>
                    </div>
                </div>
            </div>

            <!-- Approved Submission -->
            <div class="submission-card approved" data-submission-id="sub002">
                <div class="submission-header">
                    <div class="submission-status approved">‚úÖ Approved</div>
                    <div class="submission-time">5 hours ago</div>
                </div>
                
                <div class="video-preview" onclick="submissionManager?.playVideo('sub002')">
                    <img src="https://via.placeholder.com/300x200/FF69B4/FFFFFF?text=Hip-Hop+Flow" alt="Video thumbnail" class="video-thumbnail">
                    <div class="play-overlay">
                        <div class="play-button">‚ñ∂Ô∏è</div>
                    </div>
                    <div class="video-duration">1:20</div>
                </div>
                
                <div class="submission-content">
                    <div class="user-info">
                        <img src="https://via.placeholder.com/40x40/32CD32/FFFFFF?text=MJ" alt="Marcus Johnson" class="user-avatar">
                        <div class="user-details">
                            <strong>Marcus Johnson</strong>
                            <span class="user-level">Level 12 ‚Ä¢ Instructor</span>
                        </div>
                    </div>
                    
                    <div class="move-info">
                        <h4>Urban Flow Sequence</h4>
                        <div class="move-meta">
                            <span class="dance-style">üé§ Hip-Hop</span>
                            <span class="difficulty">üü† Advanced</span>
                        </div>
                    </div>
                    
                    <div class="review-info">
                        <div class="score-display">
                            <span class="score-label">Score:</span>
                            <span class="score-value excellent">95/100</span>
                        </div>
                        <div class="reviewer">Reviewed by Admin</div>
                    </div>
                    
                    <div class="feedback-preview">
                        <p>"Excellent technique and flow. Great demonstration of advanced hip-hop fundamentals."</p>
                    </div>
                    
                    <div class="quick-actions">
                        <button class="btn btn-sm btn-ghost" onclick="submissionManager?.viewDetails('sub002')">
                            üëÅÔ∏è View Details
                        </button>
                        <button class="btn btn-sm btn-secondary" onclick="submissionManager?.editReview('sub002')">
                            ‚úèÔ∏è Edit Review
                        </button>
                    </div>
                </div>
            </div>

            <!-- Needs Revision Submission -->
            <div class="submission-card revision" data-submission-id="sub003">
                <div class="submission-header">
                    <div class="submission-status revision">üîÑ Needs Revision</div>
                    <div class="submission-time">1 day ago</div>
                </div>
                
                <div class="video-preview" onclick="submissionManager?.playVideo('sub003')">
                    <img src="https://via.placeholder.com/300x200/9370DB/FFFFFF?text=Salsa+Basic" alt="Video thumbnail" class="video-thumbnail">
                    <div class="play-overlay">
                        <div class="play-button">‚ñ∂Ô∏è</div>
                    </div>
                    <div class="video-duration">2:15</div>
                </div>
                
                <div class="submission-content">
                    <div class="user-info">
                        <img src="https://via.placeholder.com/40x40/FFD700/FFFFFF?text=SC" alt="Sofia Chen" class="user-avatar">
                        <div class="user-details">
                            <strong>Sofia Chen</strong>
                            <span class="user-level">Level 5 ‚Ä¢ Free</span>
                        </div>
                    </div>
                    
                    <div class="move-info">
                        <h4>Salsa Basic Steps</h4>
                        <div class="move-meta">
                            <span class="dance-style">üíÉ Salsa</span>
                            <span class="difficulty">üü¢ Beginner</span>
                        </div>
                    </div>
                    
                    <div class="review-info">
                        <div class="score-display">
                            <span class="score-label">Score:</span>
                            <span class="score-value needs-work">72/100</span>
                        </div>
                        <div class="reviewer">Reviewed by Admin</div>
                    </div>
                    
                    <div class="feedback-preview">
                        <p>"Good rhythm! Work on keeping your upper body more upright and focus on foot placement..."</p>
                    </div>
                    
                    <div class="quick-actions">
                        <button class="btn btn-sm btn-success" onclick="submissionManager?.approveRevision('sub003')">
                            ‚úÖ Approve Now
                        </button>
                        <button class="btn btn-sm btn-primary" onclick="submissionManager?.updateReview('sub003')">
                            üìù Update Review
                        </button>
                    </div>
                </div>
            </div>

            <!-- Rejected Submission -->
            <div class="submission-card rejected" data-submission-id="sub004">
                <div class="submission-header">
                    <div class="submission-status rejected">‚ùå Rejected</div>
                    <div class="submission-time">2 days ago</div>
                </div>
                
                <div class="video-preview" onclick="submissionManager?.playVideo('sub004')">
                    <img src="https://via.placeholder.com/300x200/DC3545/FFFFFF?text=Poor+Quality" alt="Video thumbnail" class="video-thumbnail">
                    <div class="play-overlay">
                        <div class="play-button">‚ñ∂Ô∏è</div>
                    </div>
                    <div class="video-duration">0:30</div>
                </div>
                
                <div class="submission-content">
                    <div class="user-info">
                        <img src="https://via.placeholder.com/40x40/6C757D/FFFFFF?text=AL" alt="Alex Lee" class="user-avatar">
                        <div class="user-details">
                            <strong>Alex Lee</strong>
                            <span class="user-level">Level 2 ‚Ä¢ Free</span>
                        </div>
                    </div>
                    
                    <div class="move-info">
                        <h4>Jazz Square</h4>
                        <div class="move-meta">
                            <span class="dance-style">üé∫ Jazz</span>
                            <span class="difficulty">üü¢ Beginner</span>
                        </div>
                    </div>
                    
                    <div class="review-info">
                        <div class="rejection-reason">
                            <strong>Reason:</strong> Video quality too poor for evaluation
                        </div>
                        <div class="reviewer">Reviewed by Admin</div>
                    </div>
                    
                    <div class="feedback-preview">
                        <p>"Video quality is too low to properly evaluate the technique. Please resubmit with better lighting..."</p>
                    </div>
                    
                    <div class="quick-actions">
                        <button class="btn btn-sm btn-ghost" onclick="submissionManager?.viewDetails('sub004')">
                            üëÅÔ∏è View Details
                        </button>
                        <button class="btn btn-sm btn-secondary" onclick="submissionManager?.reconsider('sub004')">
                            üîÑ Reconsider
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Pagination -->
        <div id="submissionsPagination" class="pagination-container">
            <button class="pagination-item">‚Üê Previous</button>
            <button class="pagination-item active">1</button>
            <button class="pagination-item">2</button>
            <button class="pagination-item">3</button>
            <button class="pagination-item">Next ‚Üí</button>
        </div>
    </div>
</section>

<!-- Review Modal -->
<div id="reviewModal" class="modal-overlay" style="display: none;">
    <div class="modal modal-lg">
        <div class="modal-header">
            <h2 class="modal-title">üìù Review Submission</h2>
            <button class="modal-close" onclick="this.closest('.modal-overlay').style.display='none'">‚úï</button>
        </div>
        
        <div class="modal-body">
            <div class="review-form">
                <div class="video-section">
                    <video controls class="review-video">
                        <source src="placeholder-video.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                
                <form id="reviewSubmissionForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Review Status</label>
                            <select class="form-control form-select" name="status" required>
                                <option value="pending">‚è≥ Pending Review</option>
                                <option value="approved">‚úÖ Approved</option>
                                <option value="needs_revision">üîÑ Needs Revision</option>
                                <option value="rejected">‚ùå Rejected</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Score (0-100)</label>
                            <input type="number" class="form-control" name="score" min="0" max="100" placeholder="Optional">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Feedback</label>
                        <textarea class="form-control form-textarea" name="feedback" 
                                  placeholder="Provide constructive feedback..." rows="4"></textarea>
                    </div>
                    
                    <div class="feedback-templates">
                        <label class="form-label">Quick Templates:</label>
                        <div class="template-buttons">
                            <button type="button" class="btn btn-sm btn-ghost" onclick="submissionManager?.useFeedbackTemplate('Great technique! Your form looks excellent.')">
                                Great technique!
                            </button>
                            <button type="button" class="btn btn-sm btn-ghost" onclick="submissionManager?.useFeedbackTemplate('Good effort! Try to keep your posture more upright.')">
                                Posture feedback
                            </button>
                            <button type="button" class="btn btn-sm btn-ghost" onclick="submissionManager?.useFeedbackTemplate('Nice rhythm! Focus on sharper movements.')">
                                Rhythm feedback
                            </button>
                            <button type="button" class="btn btn-sm btn-ghost" onclick="submissionManager?.useFeedbackTemplate('Please work on timing with the music.')">
                                Timing feedback
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Internal Notes</label>
                        <textarea class="form-control form-textarea" name="internalNotes" 
                                  placeholder="Private notes for other admins..." rows="2"></textarea>
                        <div class="form-help">These notes are not visible to the user</div>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="this.closest('.modal-overlay').style.display='none'">
                Cancel
            </button>
            <button class="btn btn-primary" onclick="submissionManager?.saveReview()">
                üíæ Save Review
            </button>
        </div>
    </div>
</div>

<style>
/* Move Submissions Styles */
.submission-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: var(--radius-large);
    box-shadow: var(--shadow-light);
    display: flex;
    align-items: center;
    gap: 15px;
    transition: all var(--transition-fast);
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

.stat-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
}

.stat-icon.pending { background: var(--warning); }
.stat-icon.approved { background: var(--success); }
.stat-icon.rejected { background: var(--danger); }
.stat-icon.revision { background: var(--primary-purple); }

.stat-content h3 {
    margin: 0 0 5px 0;
    color: var(--text-secondary);
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
}

.stat-value {
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary-purple);
    margin-bottom: 3px;
}

.stat-change {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.submission-filters {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: var(--radius-large);
    margin-bottom: 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 20px;
}

.filter-tabs {
    display: flex;
    gap: 10px;
}

.filter-tab {
    padding: 10px 15px;
    border: 2px solid transparent;
    border-radius: var(--radius-medium);
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
}

.filter-tab:hover {
    border-color: var(--primary-purple);
    color: var(--primary-purple);
}

.filter-tab.active {
    background: var(--primary-purple);
    color: white;
    border-color: var(--primary-purple);
}

.count-badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 600;
}

.filter-tab.active .count-badge {
    background: rgba(255, 255, 255, 0.3);
}

.search-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.search-controls input,
.search-controls select {
    min-width: 150px;
}

.submissions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 25px;
    margin-bottom: 30px;
}

.submission-card {
    background: var(--bg-secondary);
    border-radius: var(--radius-large);
    box-shadow: var(--shadow-light);
    overflow: hidden;
    transition: all var(--transition-fast);
    border-left: 4px solid transparent;
}

.submission-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

.submission-card.pending { border-left-color: var(--warning); }
.submission-card.approved { border-left-color: var(--success); }
.submission-card.rejected { border-left-color: var(--danger); }
.submission-card.revision { border-left-color: var(--primary-purple); }

.submission-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: var(--bg-tertiary);
    border-bottom: 1px solid #E9ECEF;
}

.submission-status {
    font-size: 0.85rem;
    font-weight: 600;
    padding: 4px 12px;
    border-radius: 20px;
}

.submission-status.pending {
    background: rgba(255, 193, 7, 0.1);
    color: var(--warning);
}

.submission-status.approved {
    background: rgba(40, 167, 69, 0.1);
    color: var(--success);
}

.submission-status.rejected {
    background: rgba(220, 53, 69, 0.1);
    color: var(--danger);
}

.submission-status.revision {
    background: rgba(138, 43, 226, 0.1);
    color: var(--primary-purple);
}

.submission-time {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.video-preview {
    position: relative;
    height: 200px;
    cursor: pointer;
    overflow: hidden;
}

.video-thumbnail {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.play-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity var(--transition-fast);
}

.video-preview:hover .play-overlay {
    opacity: 1;
}

.play-button {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: var(--primary-purple);
}

.video-duration {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 600;
}

.submission-content {
    padding: 20px;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 15px;
}

.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
}

.user-details strong {
    display: block;
    color: var(--text-primary);
    font-weight: 600;
}

.user-level {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.move-info h4 {
    margin: 0 0 8px 0;
    color: var(--text-primary);
    font-size: 1.1rem;
}

.move-meta {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
}

.dance-style, .difficulty {
    font-size: 0.85rem;
    font-weight: 500;
}

.submission-notes {
    background: var(--bg-tertiary);
    padding: 12px;
    border-radius: var(--radius-medium);
    margin-bottom: 15px;
    border-left: 3px solid var(--primary-purple);
}

.submission-notes p {
    margin: 0;
    color: var(--text-secondary);
    font-style: italic;
    font-size: 0.9rem;
}

.review-info {
    margin-bottom: 15px;
}

.score-display {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 5px;
}

.score-label {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.score-value {
    font-weight: 600;
    font-size: 1.1rem;
}

.score-value.excellent { color: var(--success); }
.score-value.good { color: var(--primary-purple); }
.score-value.needs-work { color: var(--warning); }
.score-value.poor { color: var(--danger); }

.reviewer {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.rejection-reason {
    color: var(--danger);
    font-size: 0.9rem;
    margin-bottom: 5px;
}

.feedback-preview {
    background: var(--bg-tertiary);
    padding: 10px;
    border-radius: var(--radius-small);
    margin-bottom: 15px;
}

.feedback-preview p {
    margin: 0;
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.quick-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
}

/* Review Modal Styles */
.review-video {
    width: 100%;
    max-height: 400px;
    border-radius: var(--radius-medium);
    margin-bottom: 20px;
}

.template-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 10px;
}

.template-buttons .btn {
    font-size: 0.8rem;
}

/* Responsive Design */
@media (max-width: 768px) {
    .submission-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .submission-filters {
        flex-direction: column;
        align-items: stretch;
        gap: 15px;
    }
    
    .filter-tabs {
        flex-wrap: wrap;
    }
    
    .search-controls {
        flex-direction: column;
        align-items: stretch;
    }
    
    .search-controls input,
    .search-controls select {
        min-width: unset;
    }
    
    .submissions-grid {
        grid-template-columns: 1fr;
    }
    
    .quick-actions {
        flex-direction: column;
    }
    
    .template-buttons {
        flex-direction: column;
    }
}

@media (max-width: 480px) {
    .submission-stats {
        grid-template-columns: 1fr;
    }
    
    .stat-card {
        flex-direction: column;
        text-align: center;
        gap: 10px;
    }
    
    .filter-tabs {
        flex-direction: column;
    }
    
    .submission-header {
        flex-direction: column;
        gap: 10px;
        text-align: center;
    }
    
    .user-info {
        flex-direction: column;
        text-align: center;
    }
    
    .move-meta {
        flex-direction: column;
        gap: 8px;
    }
}
</style>