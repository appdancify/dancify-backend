<!-- 💃 Dancify Admin Dashboard - Move Management Section -->
<!-- Create and manage dance moves with video support -->

<section id="move-management" class="content-section">
    <!-- Section Header -->
    <div class="section-header">
        <div class="header-content">
            <h1>🕺 Move Management</h1>
            <p>Create and manage dance moves for your app</p>
        </div>
        <div class="header-actions">
            <button class="btn btn-primary" onclick="moveManager?.showCreateMoveModal()">
                ➕ Create New Move
            </button>
        </div>
    </div>

    <!-- Search and Filters -->
    <div class="filters-section">
        <div class="search-bar">
            <input type="text" id="moveSearch" placeholder="🔍 Search moves..." class="form-control">
        </div>
        
        <div class="filter-controls">
            <select id="danceStyleFilter" class="form-control form-select">
                <option value="">All Dance Styles</option>
                <option value="Ballet">🩰 Ballet</option>
                <option value="Hip-Hop">🎤 Hip-Hop</option>
                <option value="Salsa">💃 Salsa</option>
                <option value="Contemporary">🎭 Contemporary</option>
                <option value="Jazz">🎺 Jazz</option>
                <option value="Breakdancing">🤸 Breakdancing</option>
                <option value="Ballroom">💑 Ballroom</option>
                <option value="Latin">🌶️ Latin</option>
            </select>
            
            <select id="difficultyFilter" class="form-control form-select">
                <option value="">All Difficulties</option>
                <option value="beginner">🟢 Beginner</option>
                <option value="intermediate">🟡 Intermediate</option>
                <option value="advanced">🟠 Advanced</option>
                <option value="expert">🔴 Expert</option>
            </select>
            
            <button class="btn btn-secondary" onclick="moveManager?.applyFilters()">
                🔍 Filter
            </button>
            
            <button class="btn btn-ghost" onclick="moveManager?.refresh()">
                🔄 Refresh
            </button>
        </div>
    </div>

    <!-- Stats Summary -->
    <div class="stats-summary">
        <div class="stat-item">
            <span class="stat-label">Total Moves</span>
            <span class="stat-value" id="totalMovesCount">-</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">Published</span>
            <span class="stat-value" id="publishedMovesCount">-</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">Draft</span>
            <span class="stat-value" id="draftMovesCount">-</span>
        </div>
        <div class="stat-item">
            <span class="stat-label">Most Popular Style</span>
            <span class="stat-value" id="popularStyle">-</span>
        </div>
    </div>

    <!-- Moves Grid -->
    <div class="moves-container">
        <div id="movesGrid" class="moves-grid">
            <!-- Moves will be loaded here -->
            <div class="loading-placeholder">
                <div class="loading-spinner"></div>
                <p>Loading dance moves...</p>
            </div>
        </div>
        
        <!-- Pagination -->
        <div id="movesPagination" class="pagination-container"></div>
    </div>
</section>

<!-- Move Creation/Edit Modal -->
<div id="moveModal" class="modal-overlay" style="display: none;">
    <div class="modal modal-xl">
        <div class="modal-header">
            <h2 class="modal-title" id="moveModalTitle">✨ Create New Move</h2>
            <button class="modal-close" onclick="this.closest('.modal-overlay').style.display='none'">✕</button>
        </div>
        
        <div class="modal-body">
            <form id="moveForm" class="move-form">
                <!-- Basic Information -->
                <div class="form-section">
                    <h3>📝 Basic Information</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Move Name</label>
                            <input type="text" name="name" class="form-control" placeholder="e.g., Pirouette Basic" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label required">Dance Style</label>
                            <select name="danceStyle" class="form-control form-select" required>
                                <option value="">Select style...</option>
                                <option value="Ballet">🩰 Ballet</option>
                                <option value="Hip-Hop">🎤 Hip-Hop</option>
                                <option value="Salsa">💃 Salsa</option>
                                <option value="Contemporary">🎭 Contemporary</option>
                                <option value="Jazz">🎺 Jazz</option>
                                <option value="Breakdancing">🤸 Breakdancing</option>
                                <option value="Ballroom">💑 Ballroom</option>
                                <option value="Latin">🌶️ Latin</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Category</label>
                            <select name="category" class="form-control form-select" required>
                                <option value="">Select category...</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Subcategory</label>
                            <select name="subcategory" class="form-control form-select">
                                <option value="">Select subcategory...</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label required">Difficulty</label>
                            <select name="difficulty" class="form-control form-select" required>
                                <option value="">Select difficulty...</option>
                                <option value="beginner">🟢 Beginner</option>
                                <option value="intermediate">🟡 Intermediate</option>
                                <option value="advanced">🟠 Advanced</option>
                                <option value="expert">🔴 Expert</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Duration (seconds)</label>
                            <input type="number" name="duration" class="form-control" min="1" max="3600" placeholder="e.g., 30">
                        </div>
                    </div>
                </div>

                <!-- Description and Instructions -->
                <div class="form-section">
                    <h3>📖 Description & Instructions</h3>
                    
                    <div class="form-group">
                        <label class="form-label required">Short Description</label>
                        <textarea name="description" class="form-control form-textarea" 
                                  placeholder="Brief description of the move..." rows="3" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label required">Detailed Instructions</label>
                        <textarea name="detailedInstructions" class="form-control form-textarea" 
                                  placeholder="Step-by-step instructions..." rows="6" required></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Tips</label>
                            <textarea name="tips" class="form-control form-textarea" 
                                      placeholder="Helpful tips (one per line)" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Common Mistakes</label>
                            <textarea name="commonMistakes" class="form-control form-textarea" 
                                      placeholder="Common mistakes to avoid (one per line)" rows="3"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Media and Resources -->
                <div class="form-section">
                    <h3>🎬 Media & Resources</h3>
                    
                    <div class="form-group">
                        <label class="form-label">Video URL</label>
                        <input type="url" name="videoUrl" class="form-control" 
                               placeholder="https://youtube.com/watch?v=...">
                        <div class="form-help">YouTube, Vimeo, or direct video URL</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Thumbnail URL</label>
                        <input type="url" name="thumbnailUrl" class="form-control" 
                               placeholder="https://example.com/thumbnail.jpg">
                        <div class="form-help">Custom thumbnail image (optional - auto-generated for YouTube)</div>
                    </div>
                </div>

                <!-- Additional Settings -->
                <div class="form-section">
                    <h3>⚙️ Additional Settings</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Level Required</label>
                            <input type="number" name="levelRequired" class="form-control" 
                                   min="1" max="100" placeholder="e.g., 5">
                            <div class="form-help">Minimum user level to unlock this move</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Move Type</label>
                            <select name="moveType" class="form-control form-select">
                                <option value="freestyle">🎨 Freestyle</option>
                                <option value="time">⏱️ Time-based</option>
                                <option value="repetition">🔢 Repetition-based</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Tags</label>
                        <input type="text" name="tags" class="form-control" 
                               placeholder="spin, balance, beginner-friendly (comma separated)">
                        <div class="form-help">Add tags to help users find this move</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="isFeatured"> Featured Move
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" name="isPremium"> Premium Content
                            </label>
                        </div>
                    </div>
                </div>
                
                <input type="hidden" name="id" id="moveId">
            </form>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="this.closest('.modal-overlay').style.display='none'">
                Cancel
            </button>
            <button class="btn btn-primary" onclick="moveManager?.saveMoveForm()">
                💾 Save Move
            </button>
        </div>
    </div>
</div>

<style>
/* Move Management Styles */
.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding: 20px 0;
    border-bottom: 1px solid #E9ECEF;
}

.header-content h1 {
    font-size: 2rem;
    color: var(--primary-purple);
    margin: 0 0 5px 0;
}

.header-content p {
    color: var(--text-secondary);
    margin: 0;
}

.filters-section {
    background: var(--bg-secondary);
    padding: 20px;
    border-radius: var(--radius-large);
    margin-bottom: 20px;
    display: flex;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap;
}

.search-bar {
    flex: 1;
    min-width: 250px;
}

.filter-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.filter-controls select {
    min-width: 150px;
}

.stats-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 25px;
}

.stat-item {
    background: var(--bg-secondary);
    padding: 15px 20px;
    border-radius: var(--radius-medium);
    border-left: 4px solid var(--primary-purple);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.stat-label {
    color: var(--text-secondary);
    font-weight: 500;
}

.stat-value {
    color: var(--primary-purple);
    font-weight: 700;
    font-size: 1.2rem;
}

.moves-container {
    background: var(--bg-secondary);
    border-radius: var(--radius-large);
    padding: 25px;
}

.moves-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

.loading-placeholder {
    grid-column: 1 / -1;
    text-align: center;
    padding: 60px;
    color: var(--text-secondary);
}

.loading-spinner {
    width: 40px;
    height: 40px;
    border: 4px solid rgba(138, 43, 226, 0.1);
    border-top: 4px solid var(--primary-purple);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin: 0 auto 15px;
}

/* Move Form Styles */
.move-form {
    max-height: 70vh;
    overflow-y: auto;
    padding-right: 10px;
}

.form-section {
    margin-bottom: 30px;
    padding-bottom: 25px;
    border-bottom: 1px solid #E9ECEF;
}

.form-section:last-child {
    border-bottom: none;
}

.form-section h3 {
    color: var(--primary-purple);
    font-size: 1.1rem;
    margin-bottom: 20px;
    font-weight: 600;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.form-group {
    margin-bottom: 20px;
}

.form-label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text-primary);
    font-size: 0.95rem;
}

.form-label.required::after {
    content: ' *';
    color: var(--danger);
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    margin-bottom: 0;
}

.checkbox-label input[type="checkbox"] {
    margin: 0;
    cursor: pointer;
}

.form-help {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: 5px;
}

.pagination-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-top: 25px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .section-header {
        flex-direction: column;
        gap: 15px;
        align-items: stretch;
    }
    
    .filters-section {
        flex-direction: column;
        align-items: stretch;
    }
    
    .filter-controls {
        flex-direction: column;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .moves-grid {
        grid-template-columns: 1fr;
    }
    
    .stats-summary {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 480px) {
    .filter-controls select {
        min-width: unset;
    }
    
    .stat-item {
        flex-direction: column;
        text-align: center;
        gap: 5px;
    }
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
</style>